<nav class="navbar">
  <div class="container">
    <div class="logo">
      <a routerLink="/">
        <img src="assets/images/logo.webp" alt="One Piece TCG" />
      </a>
    </div>
    
    <div class="nav-links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <fa-icon [icon]="faHome" class="icon"></fa-icon> Inicio
      </a>
      <a routerLink="/cards" routerLinkActive="active">
        <fa-icon [icon]="faBook" class="icon"></fa-icon> Cartas
      </a>
      <a routerLink="/decks" routerLinkActive="active">
        <fa-icon [icon]="faLayerGroup" class="icon"></fa-icon> Mazos
      </a>
      <a routerLink="/news" routerLinkActive="active">
        <fa-icon [icon]="faNewspaper" class="icon"></fa-icon> Noticias
      </a>
    </div>

    <!-- Contenedor de autenticación -->
    <div class="auth-container">
      <!-- Mostrar si NO está autenticado -->
      <ng-container *ngIf="!isAuthenticated()">
        <div class="login-container">
          <a routerLink="/login" class="login-button">
            <fa-icon [icon]="faUser" class="icon"></fa-icon> Iniciar sesión
          </a>
        </div>
      </ng-container>

      <!-- Mostrar si ESTÁ autenticado -->
      <ng-container *ngIf="isAuthenticated()">
        <div class="user-info-container">
          <span class="username-display">{{ username() }}</span>
          <button class="login-button logout-button" (click)="logout()">
            <fa-icon [icon]="faXmark" class="icon"></fa-icon> Cerrar Sesión
          </button>
        </div>
      </ng-container>
    </div>

    <button class="mobile-menu-btn" (click)="toggleMobileMenu()">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</nav>

<!-- Menu móvil -->
<div class="mobile-menu" [class.open]="isMobileMenuOpen">
  <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMobileMenu()">
    <fa-icon [icon]="faHome" class="icon"></fa-icon> Inicio
  </a>
  <a routerLink="/cards" routerLinkActive="active" (click)="closeMobileMenu()">
    <fa-icon [icon]="faBook" class="icon"></fa-icon> Cartas
  </a>
  <a routerLink="/decks" routerLinkActive="active" (click)="closeMobileMenu()">
    <fa-icon [icon]="faLayerGroup" class="icon"></fa-icon> Mazos
  </a>
  <a routerLink="/news" routerLinkActive="active" (click)="closeMobileMenu()">
    <fa-icon [icon]="faNewspaper" class="icon"></fa-icon> Noticias
  </a>
  <!-- Autenticación en menú móvil -->
  <ng-container *ngIf="!isAuthenticated()">
    <a routerLink="/login" class="login-link-mobile" (click)="closeMobileMenu()">
      <fa-icon [icon]="faUser" class="icon"></fa-icon> Iniciar sesión
    </a>
  </ng-container>
  <ng-container *ngIf="isAuthenticated()">
     <div class="user-info-mobile">
        <span class="username-mobile">{{ username() }}</span>
        <a class="logout-link-mobile" (click)="logout(); closeMobileMenu()">
          <fa-icon [icon]="faXmark" class="icon"></fa-icon> Cerrar Sesión
        </a>
     </div>
  </ng-container>
</div>
